<div class="max-w-6xl mx-auto py-12 px-4">
  <!-- Header -->
  <div class="text-center mb-16">
    <h1 class="text-5xl font-extrabold text-gray-900 dark:text-white mb-4">Documentation</h1>
    <p class="text-xl text-gray-600 dark:text-gray-400">Everything you need to integrate Inslash into your application
    </p>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
    <!-- Sidebar Navigation -->
    <div class="lg:col-span-1">
      <nav class="sticky top-20 space-y-6">
        <div>
          <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Getting
            Started</h3>
          <a href="#installation"
            class="block px-3 py-2 rounded-md text-sm font-medium text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20">Installation</a>
          <a href="#api-mode"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">API
            Mode</a>
          <a href="#quick-start"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Quick
            Start</a>
          <a href="#features"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Features</a>
        </div>

        <div>
          <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">API
            Reference</h3>
          <a href="#hash"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">hash()</a>
          <a href="#verify"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">verify()</a>
          <a href="#configuration"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Configuration</a>
        </div>

        <div>
          <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Examples
          </h3>
          <a href="#example-auth"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Authentication
            System</a>
          <a href="#example-registration"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">User
            Registration</a>
          <a href="#example-reset"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Password
            Reset</a>
        </div>
      </nav>
    </div>

    <!-- Content -->
    <div class="lg:col-span-3 space-y-16">
      <!-- Installation -->
      <section id="installation" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Installation</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Install Inslash using npm or yarn:</p>
        <div
          class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 mb-4">
          <span class="text-gray-500"># Using npm</span><br />
          npm install inslash<br /><br />
          <span class="text-gray-500"># Using yarn</span><br />
          yarn add inslash
        </div>
        <p class="text-gray-600 dark:text-gray-400">Set up your environment variables:</p>
        <div
          class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 mt-4">
          <span class="text-green-400">HASH_PEPPER</span>=<span class="text-yellow-400">your-secret-pepper-here</span>
        </div>
      </section>

      <!-- API Mode Configuration -->
      <section id="api-mode" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">API Mode (Optional)</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Use the hosted Inslash API service instead of local hashing:
        </p>

        <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                  clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm text-blue-700 dark:text-blue-200">
                <strong>Benefits:</strong> Centralized security updates, automatic hash upgrades, and no need to manage
                crypto libraries.
              </p>
            </div>
          </div>
        </div>

        <%- include('partials/code-snippets', { code: `const inslash=require('inslash'); require("dotenv").config(); //
          1. Configure (Global) inslash.configure({ apiKey: process.env.INSLASH_API_KEY,
          apiUrl: 'https://inslash.antqr.xyz' // Hosted Instance }); // 2. Destructure after configuration (optional,
          but cleaner) const { hash, verify }=inslash; async function example() { // This now automatically uses the
          API! const result=await hash('password123', process.env.HASH_PEPPER); console.log(result.passport); const
          isValid=await verify('password123', result.passport, process.env.HASH_PEPPER); console.log(isValid.valid); //
          true } example();`, language: 'javascript' }) %>

          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">Get Your API Key</h3>
          <ol class="list-decimal list-inside text-gray-600 dark:text-gray-400 space-y-2 ml-4">
            <li>Sign up at <a href="https://inslash.antqr.xyz"
                class="text-blue-600 dark:text-blue-400 hover:underline">inslash.antqr.xyz</a></li>
            <li>Navigate to <strong>API Keys</strong> in your dashboard</li>
            <li>Generate a new API key</li>
            <li>Add to your <code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">.env</code> file</li>
          </ol>

          <div
            class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 mt-4">
            <span class="text-green-400">INSLASH_API_KEY</span>=<span
              class="text-yellow-400">inslash_your_key_here</span><br />
            <span class="text-green-400">INSLASH_API_URL</span>=<span
              class="text-yellow-400">https://inslash.antqr.xyz</span><br />
            <span class="text-green-400">HASH_PEPPER</span>=<span class="text-yellow-400">your-secret-pepper</span>
          </div>

          <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-r-lg mt-6">
            <div class="flex">
              <div class="flex-shrink-0">
                <svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd"
                    d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                    clip-rule="evenodd" />
                </svg>
              </div>
              <div class="ml-3">
                <p class="text-sm text-yellow-700 dark:text-yellow-200">
                  <strong>Automatic Fallback:</strong> If the API is unavailable, Inslash automatically falls back to
                  local hashing.
                </p>
              </div>
            </div>
          </div>
      </section>

      <!-- Quick Start -->
      <section id="quick-start" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Quick Start</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Basic usage example:</p>
        <%- include('partials/code-snippets', { code: `const { hash, verify }=require('inslash'); // Hash a password
          const result=await hash('userPassword123', process.env.HASH_PEPPER); console.log(result.passport); // Store
          this in your database // Verify a password const isValid=await verify('userPassword123', result.passport,
          process.env.HASH_PEPPER); console.log(isValid.valid); // true`, language: 'javascript' }) %>
      </section>

      <!-- Features -->
      <section id="features" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Features</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">üîê Multiple Algorithms</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm">Support for SHA-256, SHA-384, and SHA-512 HMAC
              algorithms</p>
          </div>
          <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">üé´ Passport Encoding</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm">All metadata encoded in a single string for easy storage
            </p>
          </div>
          <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">‚ö° Automatic Upgrades</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm">Detects when hashes need upgrading to stronger
              algorithms</p>
          </div>
          <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">üõ°Ô∏è Timing-Safe</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm">Protection against timing attacks with constant-time
              comparison</p>
          </div>
        </div>
      </section>

      <!-- API Reference - hash() -->
      <section id="hash" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">hash(value, secret, options)</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Creates a secure hash of a password.</p>

        <%- include('partials/parameter-table', { parameters: [ { name: 'value' , type: 'string' , required: true,
          description: 'The password to hash' }, { name: 'secret' , type: 'string' , required: true,
          description: 'Secret key (pepper) for additional security' }, { name: 'options' , type: 'object' , required:
          false, description: 'Configuration options' } ] }) %>

          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">Options</h3>
          <%- include('partials/parameter-table', { parameters: [ { name: 'algorithm' , type: 'string' , required:
            false, description: 'Hash algorithm: "sha256", "sha384", or "sha512" (default: "sha256")' }, {
            name: 'iterations' , type: 'number' , required: false,
            description: 'Number of iterations (default: 100,000)' }, { name: 'saltLength' , type: 'number' , required:
            false, description: 'Length of salt in bytes (default: 16)' }, { name: 'hashLength' , type: 'number' ,
            required: false, description: 'Length of hash in bytes (default: 32)' } ] }) %>

            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">Returns</h3>
            <p class="text-gray-600 dark:text-gray-400 mb-2">Object containing:</p>
            <ul class="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-1 ml-4">
              <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">passport</code> - Encoded string
                to store in database</li>
              <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">hash</code> - The raw hash value
              </li>
              <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">salt</code> - The generated salt
              </li>
              <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">metadata</code> - Algorithm,
                iterations, etc.</li>
            </ul>
      </section>

      <!-- API Reference - verify() -->
      <section id="verify" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">verify(value, passport, secret, options)</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Verifies a password against a stored passport.</p>

        <%- include('partials/parameter-table', { parameters: [ { name: 'value' , type: 'string' , required: true,
          description: 'The password to verify' }, { name: 'passport' , type: 'string' , required: true,
          description: 'The stored passport from hash()' }, { name: 'secret' , type: 'string' , required: true,
          description: 'Same secret key used for hashing' }, { name: 'options' , type: 'object' , required: false,
          description: 'Upgrade configuration' } ] }) %>

          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">Returns</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-2">Object containing:</p>
          <ul class="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-1 ml-4">
            <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">valid</code> - Boolean indicating
              if password is correct</li>
            <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">needsUpgrade</code> - Boolean
              indicating if hash should be upgraded</li>
            <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">upgradedPassport</code> - New
              passport if upgrade needed</li>
            <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">metadata</code> - Current hash
              metadata</li>
          </ul>
      </section>

      <!-- Example 1: Complete Authentication System -->
      <section id="example-auth" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Example: Complete Authentication System</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Full Express.js authentication with login, automatic upgrades,
          and session management:</p>
        <%- include('partials/code-snippets', { code: `const express=require('express'); const
          session=require('express-session'); const { hash, verify }=require('inslash'); const
          User=require('./models/User'); const app=express(); app.use(express.json()); app.use(session({
          secret: 'your-session-secret' , resave: false, saveUninitialized: false })); // Login endpoint
          app.post('/login', async (req, res)=> {
          const { email, password } = req.body;

          // Find user
          const user = await User.findOne({ email });
          if (!user) {
          return res.status(401).json({ error: 'Invalid credentials' });
          }

          // Verify password
          const result = await verify(password, user.passport, process.env.HASH_PEPPER);

          if (!result.valid) {
          return res.status(401).json({ error: 'Invalid credentials' });
          }

          // Automatic security upgrade
          if (result.needsUpgrade) {
          user.passport = result.upgradedPassport;
          await user.save();
          console.log('Password hash upgraded for user:', user.email);
          }

          // Create session
          req.session.userId = user._id;
          res.json({ success: true, user: { id: user._id, email: user.email } });
          });

          // Protected route middleware
          function requireAuth(req, res, next) {
          if (!req.session.userId) {
          return res.status(401).json({ error: 'Unauthorized' });
          }
          next();
          }

          app.get('/dashboard', requireAuth, (req, res) => {
          res.json({ message: 'Welcome to your dashboard!' });
          });

          app.listen(3000);`,
          language: 'javascript'
          }) %>
      </section>

      <!-- Example 2: User Registration -->
      <section id="example-registration" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Example: User Registration Flow</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Complete user registration with validation and secure password
          storage:</p>
        <%- include('partials/code-snippets', { code: `const { hash }=require('inslash'); const
          User=require('./models/User'); app.post('/signup', async (req, res)=> {
          const { username, email, password, confirmPassword } = req.body;

          // Validation
          if (!username || !email || !password) {
          return res.status(400).json({ error: 'All fields required' });
          }

          if (password !== confirmPassword) {
          return res.status(400).json({ error: 'Passwords do not match' });
          }

          if (password.length < 8) { return res.status(400).json({ error: 'Password must be at least 8 characters' }); }
            // Check if user exists const existingUser=await User.findOne({ $or: [{ username }, { email }] }); if
            (existingUser) { return res.status(400).json({ error: 'Username or email already exists' }); } // Hash
            password with strong settings const hashResult=await hash(password, process.env.HASH_PEPPER, {
            algorithm: 'sha512' , iterations: 150000 }); // Create user const user=new User({ username, email, passport:
            hashResult.passport, createdAt: new Date() }); await user.save(); // Auto-login after registration
            req.session.userId=user._id; res.status(201).json({ success: true, user: { id: user._id, username:
            user.username, email: user.email } }); });`, language: 'javascript' }) %>
      </section>

      <!-- Example 3: Password Reset -->
      <section id="example-reset" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Example: Password Reset System</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Secure password reset with email tokens:</p>
        <%- include('partials/code-snippets', { code: `const crypto=require('crypto'); const { hash
          }=require('inslash'); const User=require('./models/User'); const sendEmail=require('./utils/email'); //
          Request password reset app.post('/forgot-password', async (req, res)=> {
          const { email } = req.body;

          const user = await User.findOne({ email });
          if (!user) {
          // Don't reveal if email exists
          return res.json({ message: 'If email exists, reset link sent' });
          }

          // Generate reset token
          const resetToken = crypto.randomBytes(32).toString('hex');
          const resetTokenHash = crypto.createHash('sha256').update(resetToken).digest('hex');

          user.resetPasswordToken = resetTokenHash;
          user.resetPasswordExpires = Date.now() + 3600000; // 1 hour
          await user.save();

          // Send email
          const resetUrl = \`https://yourapp.com/reset-password/\${resetToken}\`;
          await sendEmail({
          to: user.email,
          subject: 'Password Reset Request',
          html: \`Click here to reset: <a href="\${resetUrl}">\${resetUrl}</a>\`
          });

          res.json({ message: 'If email exists, reset link sent' });
          });

          // Reset password with token
          app.post('/reset-password/:token', async (req, res) => {
          const { password } = req.body;

          // Hash the token to compare
          const resetTokenHash = crypto.createHash('sha256')
          .update(req.params.token)
          .digest('hex');

          // Find user with valid token
          const user = await User.findOne({
          resetPasswordToken: resetTokenHash,
          resetPasswordExpires: { $gt: Date.now() }
          });

          if (!user) {
          return res.status(400).json({ error: 'Invalid or expired token' });
          }

          // Hash new password
          const hashResult = await hash(password, process.env.HASH_PEPPER, {
          algorithm: 'sha512',
          iterations: 150000
          });

          // Update user
          user.passport = hashResult.passport;
          user.resetPasswordToken = undefined;
          user.resetPasswordExpires = undefined;
          await user.save();

          res.json({ success: true, message: 'Password reset successful' });
          });`,
          language: 'javascript'
          }) %>
      </section>

      <!-- Configuration -->
      <section id="configuration" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Configuration</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Recommended security settings:</p>
        <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-r-lg mb-6">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                  clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm text-yellow-700 dark:text-yellow-200">
                <strong>Production Recommendation:</strong> Use SHA-512 with 150,000+ iterations for maximum security.
              </p>
            </div>
          </div>
        </div>

        <%- include('partials/code-snippets', { code: `// Production configuration const productionConfig={
          algorithm: 'sha512' , // Strongest algorithm iterations: 150000, // High iteration count saltLength: 16, //
          Default is fine hashLength: 64 // Larger for SHA-512 }; const result=await hash(password,
          process.env.HASH_PEPPER, productionConfig);`, language: 'javascript' }) %>
      </section>
    </div>
  </div>
</div>