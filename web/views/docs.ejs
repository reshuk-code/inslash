<div class="max-w-6xl mx-auto py-12 px-4">
  <!-- Header -->
  <div class="text-center mb-16">
    <h1 class="text-5xl font-extrabold text-gray-900 dark:text-white mb-4">Documentation</h1>
    <p class="text-xl text-gray-600 dark:text-gray-400">Everything you need to integrate Inslash into your application
    </p>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
    <!-- Sidebar Navigation -->
    <div class="lg:col-span-1">
      <nav class="sticky top-20 space-y-6">
        <div>
          <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Getting
            Started</h3>
          <a href="#getting-started"
            class="block px-3 py-2 rounded-md text-sm font-medium text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20">Getting
            Started</a>
          <a href="#integration"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Integration</a>
          <a href="#features"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Features</a>
        </div>

        <div>
          <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">API
            Reference</h3>
          <a href="#hash"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">hash()</a>
          <a href="#verify"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">verify()</a>
          <a href="#configuration"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Configuration</a>
        </div>

        <div>
          <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2">Examples
          </h3>
          <a href="#example-auth"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Authentication
            System</a>
          <a href="#example-registration"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">User
            Registration</a>
          <a href="#example-reset"
            class="block px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800">Password
            Reset</a>
        </div>
      </nav>
    </div>

    <!-- Content -->
    <div class="lg:col-span-3 space-y-16">

      <!-- Getting Started (API Key) -->
      <section id="getting-started" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">1. Get Your Credentials</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Before using Inslash, you need an API key to access our secure
          hashing infrastructure.</p>

        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700 p-6">
          <ol class="list-decimal list-inside text-gray-600 dark:text-gray-400 space-y-4">
            <li class="pl-2"><span class="font-medium text-gray-900 dark:text-white">Sign Up:</span> Create an account
              at <a href="https://inslash-q5s6.vercel.app"
                class="text-indigo-600 hover:underline">inslash-q5s6.vercel.app</a></li>
            <li class="pl-2"><span class="font-medium text-gray-900 dark:text-white">Get API Key:</span> Navigate to the
              <strong>API Keys</strong> section in your dashboard.</li>
            <li class="pl-2"><span class="font-medium text-gray-900 dark:text-white">Save It:</span> Copy the key
              (starts with <code>sk_</code>) - you'll need it for the next step.</li>
          </ol>
        </div>
      </section>

      <!-- Integration Toggles -->
      <section id="integration" class="scroll-mt-24" x-data="{ mode: 'library' }">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">2. Choose Integration</h2>

        <!-- Mode Toggle -->
        <div class="flex p-1 space-x-1 bg-gray-100 dark:bg-gray-800 rounded-xl mb-8 w-fit">
          <button @click="mode = 'library'"
            class="px-6 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none"
            :class="mode === 'library' ? 'bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm' : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'">
            Integration via Library
          </button>
          <button @click="mode = 'api'"
            class="px-6 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none"
            :class="mode === 'api' ? 'bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm' : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'">
            Integration via API
          </button>
        </div>

        <!-- LIBRARY MODE -->
        <div x-show="mode === 'library'" x-transition:enter="transition ease-out duration-200"
          x-transition:enter-start="opacity-0 translate-y-2" x-transition:enter-end="opacity-100 translate-y-0">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Option A: Node.js Library (Recommended)
          </h3>
          <p class="text-gray-600 dark:text-gray-400 mb-6">Best for Node.js applications. Provides type safety,
            automatic fallback, and utility helpers.</p>

          <div class="mb-8">
            <h4 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2">Installation</h4>
            <div
              class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-4 rounded-lg font-mono text-sm border border-gray-800">
              npm install inslash
            </div>
          </div>

          <div>
            <h4 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2">Usage</h4>
            <div class="code-block-wrapper relative group my-4">
              <div
                class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 overflow-x-auto">
                <button onclick="copyCodeBlock(this)"
                  class="absolute top-4 right-4 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2">
                  <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                    </path>
                  </svg>
                  <span class="copy-text">Copy</span>
                </button>
                <pre><code class="language-javascript">const inslash = require('inslash');

// Configuration
inslash.configure({
    apiKey: 'sk_test_51Mz...', 
    apiUrl: 'https://inslash-q5s6.vercel.app'
});

const { hash } = inslash;

async function example() {
    // Hash password (using API with local fallback)
    const { passport } = await hash('password123', 'your-pepper-secret');
    
    // Store passport in DB
    console.log(passport); 
}</code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- API MODE -->
        <div x-show="mode === 'api'" x-transition:enter="transition ease-out duration-200"
          x-transition:enter-start="opacity-0 translate-y-2" x-transition:enter-end="opacity-100 translate-y-0"
          style="display: none;">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Option B: REST API</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-6">Best for non-Node.js environments (Python, Go, PHP) or
            serverless functions.</p>

          <div class="grid gap-4 mb-8">
            <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
              <div class="flex items-center justify-between mb-2">
                <code class="text-sm font-bold text-indigo-600 dark:text-indigo-400">POST /api/hash</code>
                <span
                  class="px-2 py-1 text-xs rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300">Hash
                  Password</span>
              </div>
              <p class="text-sm text-gray-600 dark:text-gray-400">Generates a secure hash (passport).</p>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
              <div class="flex items-center justify-between mb-2">
                <code class="text-sm font-bold text-indigo-600 dark:text-indigo-400">POST /api/verify</code>
                <span
                  class="px-2 py-1 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300">Verify
                  Password</span>
              </div>
              <p class="text-sm text-gray-600 dark:text-gray-400">Verifies a password against a passport.</p>
            </div>

            <!-- Key Management Endpoints -->
            <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
              <h4
                class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3 pb-2 border-b border-gray-200 dark:border-gray-700">
                Key Management</h4>
              <div class="flex flex-col gap-3">
                <div class="flex items-center justify-between">
                  <code class="text-sm font-bold text-gray-600 dark:text-gray-400">GET /api/keys</code>
                  <span class="text-xs text-gray-500">List API Keys</span>
                </div>
                <div class="flex items-center justify-between">
                  <code class="text-sm font-bold text-gray-600 dark:text-gray-400">POST /api/keys/create</code>
                  <span class="text-xs text-gray-500">Create Key</span>
                </div>
                <div class="flex items-center justify-between">
                  <code class="text-sm font-bold text-gray-600 dark:text-gray-400">POST /api/keys/:id/revoke</code>
                  <span class="text-xs text-gray-500">Revoke Key</span>
                </div>
              </div>
            </div>
          </div>

          <div>
            <h4 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2">Example Request
              (JavaScript/Fetch)</h4>
            <div class="code-block-wrapper relative group my-4">
              <div
                class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 overflow-x-auto">
                <button onclick="copyCodeBlock(this)"
                  class="absolute top-4 right-4 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2">
                  <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                    </path>
                  </svg>
                  <span class="copy-text">Copy</span>
                </button>
                <pre><code class="language-javascript">const response = await fetch('https://inslash-q5s6.vercel.app/api/hash', {
  method: 'POST',
  headers: {
    'x-api-key': 'sk_test_...', // Your API Key
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    value: 'userPassword123',
    secret: 'your_pepper_secret'
  })
});

const { passport } = await response.json();</code></pre>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Features -->
      <section id="features" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Features</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">üîê Multiple Algorithms</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm">Support for SHA-256, SHA-384, and SHA-512 HMAC
              algorithms</p>
          </div>
          <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">üé´ Passport Encoding</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm">All metadata encoded in a single string for easy storage
            </p>
          </div>
          <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">‚ö° Automatic Upgrades</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm">Detects when hashes need upgrading to stronger
              algorithms</p>
          </div>
          <div class="p-6 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">üõ°Ô∏è Timing-Safe</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm">Protection against timing attacks with constant-time
              comparison</p>
          </div>
        </div>
      </section>

      <!-- API Reference - hash() -->
      <section id="hash" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">hash(value, secret, options)</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Creates a secure hash of a password.</p>

        <%- include('partials/parameter-table', { parameters: [ { name: 'value' , type: 'string' , required: true,
          description: 'The password to hash' }, { name: 'secret' , type: 'string' , required: true,
          description: 'Secret key (pepper) for additional security' }, { name: 'options' , type: 'object' , required:
          false, description: 'Configuration options' } ] }) %>

          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">Options</h3>
          <%- include('partials/parameter-table', { parameters: [ { name: 'algorithm' , type: 'string' , required:
            false, description: 'Hash algorithm: "sha256", "sha384", or "sha512" (default: "sha256")' }, {
            name: 'iterations' , type: 'number' , required: false,
            description: 'Number of iterations (default: 100,000)' }, { name: 'saltLength' , type: 'number' , required:
            false, description: 'Length of salt in bytes (default: 16)' }, { name: 'hashLength' , type: 'number' ,
            required: false, description: 'Length of hash in bytes (default: 32)' } ] }) %>

            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">Returns</h3>
            <p class="text-gray-600 dark:text-gray-400 mb-2">Object containing:</p>
            <ul class="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-1 ml-4">
              <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">passport</code> - Encoded string
                to store in database</li>
              <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">hash</code> - The raw hash value
              </li>
              <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">salt</code> - The generated salt
              </li>
              <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">metadata</code> - Algorithm,
                iterations, etc.</li>
            </ul>
      </section>

      <!-- API Reference - verify() -->
      <section id="verify" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">verify(value, passport, secret, options)</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Verifies a password against a stored passport.</p>

        <%- include('partials/parameter-table', { parameters: [ { name: 'value' , type: 'string' , required: true,
          description: 'The password to verify' }, { name: 'passport' , type: 'string' , required: true,
          description: 'The stored passport from hash()' }, { name: 'secret' , type: 'string' , required: true,
          description: 'Same secret key used for hashing' }, { name: 'options' , type: 'object' , required: false,
          description: 'Upgrade configuration' } ] }) %>

          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-6 mb-3">Returns</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-2">Object containing:</p>
          <ul class="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-1 ml-4">
            <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">valid</code> - Boolean indicating
              if password is correct</li>
            <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">needsUpgrade</code> - Boolean
              indicating if hash should be upgraded</li>
            <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">upgradedPassport</code> - New
              passport if upgrade needed</li>
            <li><code class="text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">metadata</code> - Current hash
              metadata</li>
          </ul>
      </section>

      <!-- Example 1: Complete Authentication System -->
      <section id="example-auth" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Example: Complete Authentication System</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Full Express.js authentication with login, automatic upgrades,
          and session management:</p>
        <div class="code-block-wrapper relative group my-4">
          <div
            class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 overflow-x-auto">
            <button onclick="copyCodeBlock(this)"
              class="absolute top-4 right-4 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2">
              <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                </path>
              </svg>
              <span class="copy-text">Copy</span>
            </button>
            <pre><code class="language-javascript">const express = require('express');
const session = require('express-session');
const { hash, verify } = require('inslash');
const User = require('./models/User');

const app = express();
app.use(express.json());
app.use(session({
    secret: 'your-session-secret',
    resave: false,
    saveUninitialized: false
}));

// Login endpoint
app.post('/login', async (req, res) => {
    const { email, password } = req.body;

    // Find user
    const user = await User.findOne({ email });
    if (!user) {
        return res.status(401).json({ error: 'Invalid credentials' });
    }

    // Verify password
    const result = await verify(password, user.passport, process.env.HASH_PEPPER);

    if (!result.valid) {
        return res.status(401).json({ error: 'Invalid credentials' });
    }

    // Automatic security upgrade
    if (result.needsUpgrade) {
        user.passport = result.upgradedPassport;
        await user.save();
        console.log('Password hash upgraded for user:', user.email);
    }

    // Create session
    req.session.userId = user._id;
    res.json({ success: true, user: { id: user._id, email: user.email } });
});

// Protected route middleware
function requireAuth(req, res, next) {
    if (!req.session.userId) {
        return res.status(401).json({ error: 'Unauthorized' });
    }
    next();
}

app.get('/dashboard', requireAuth, (req, res) => {
    res.json({ message: 'Welcome to your dashboard!' });
});

app.listen(3000);</code></pre>
          </div>
        </div>
      </section>

      <!-- Example 2: User Registration -->
      <section id="example-registration" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Example: User Registration Flow</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Complete user registration with validation and secure password
          storage:</p>
        <div class="code-block-wrapper relative group my-4">
          <div
            class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 overflow-x-auto">
            <button onclick="copyCodeBlock(this)"
              class="absolute top-4 right-4 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2">
              <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                </path>
              </svg>
              <span class="copy-text">Copy</span>
            </button>
            <pre><code class="language-javascript">const { hash } = require('inslash');
const User = require('./models/User');

app.post('/signup', async (req, res) => {
    const { username, email, password, confirmPassword } = req.body;

    // Validation
    if (!username || !email || !password) {
        return res.status(400).json({ error: 'All fields required' });
    }

    if (password !== confirmPassword) {
        return res.status(400).json({ error: 'Passwords do not match' });
    }

    if (password.length < 8) {
        return res.status(400).json({ error: 'Password must be at least 8 characters' });
    }

    // Check if user exists
    const existingUser = await User.findOne({ $or: [{ username }, { email }] });
    if (existingUser) {
        return res.status(400).json({ error: 'Username or email already exists' });
    }

    // Hash password with strong settings
    const hashResult = await hash(password, process.env.HASH_PEPPER, {
        algorithm: 'sha512',
        iterations: 150000
    });

    // Create user
    const user = new User({
        username,
        email,
        passport: hashResult.passport,
        createdAt: new Date()
    });

    await user.save();

    // Auto-login after registration
    req.session.userId = user._id;
    res.status(201).json({ success: true, user: { id: user._id, username: user.username, email: user.email } });
});</code></pre>
          </div>
        </div>
      </section>

      <!-- Example 3: Password Reset -->
      <section id="example-reset" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Example: Password Reset System</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Secure password reset with email tokens:</p>
        <div class="code-block-wrapper relative group my-4">
          <div
            class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 overflow-x-auto">
            <button onclick="copyCodeBlock(this)"
              class="absolute top-4 right-4 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2">
              <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                </path>
              </svg>
              <span class="copy-text">Copy</span>
            </button>
            <pre><code class="language-javascript">const crypto = require('crypto');
const { hash } = require('inslash');
const User = require('./models/User');
const sendEmail = require('./utils/email');

// Request password reset
app.post('/forgot-password', async (req, res) => {
    const { email } = req.body;

    // Find user
    const user = await User.findOne({ email });
    if (!user) {
        // Don't reveal if email exists
        return res.json({ message: 'If email exists, reset link sent' });
    }

    // Generate reset token
    const resetToken = crypto.randomBytes(32).toString('hex');
    const resetTokenHash = crypto.createHash('sha256').update(resetToken).digest('hex');

    user.resetPasswordToken = resetTokenHash;
    user.resetPasswordExpires = Date.now() + 3600000; // 1 hour
    await user.save();

    // Send email
    const resetUrl = \`https://yourapp.com/reset-password/\${resetToken}\`;
    await sendEmail({
        to: user.email,
        subject: 'Password Reset Request',
        html: \`Click here to reset: <a href="\${resetUrl}">\${resetUrl}</a>\`
    });

    res.json({ message: 'If email exists, reset link sent' });
});

// Reset password with token
app.post('/reset-password/:token', async (req, res) => {
    const { password } = req.body;

    // Hash the token to compare
    const resetTokenHash = crypto.createHash('sha256')
        .update(req.params.token)
        .digest('hex');

    // Find user with valid token
    const user = await User.findOne({
        resetPasswordToken: resetTokenHash,
        resetPasswordExpires: { $gt: Date.now() }
    });

    if (!user) {
        return res.status(400).json({ error: 'Invalid or expired token' });
    }

    // Hash new password
    const hashResult = await hash(password, process.env.HASH_PEPPER, {
        algorithm: 'sha512',
        iterations: 150000
    });

    // Update user
    user.passport = hashResult.passport;
    user.resetPasswordToken = undefined;
    user.resetPasswordExpires = undefined;
    await user.save();

    res.json({ success: true, message: 'Password reset successful' });
});</code></pre>
          </div>
        </div>
      </section>

      <!-- Configuration -->
      <section id="configuration" class="scroll-mt-24">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Configuration</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-4">Recommended security settings:</p>
        <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-r-lg mb-6">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                  clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm text-yellow-700 dark:text-yellow-200">
                <strong>Production Recommendation:</strong> Use SHA-512 with 150,000+ iterations for maximum security.
              </p>
            </div>
          </div>
        </div>

        <div class="code-block-wrapper relative group my-4">
          <div
            class="bg-gray-900 dark:bg-gray-950 text-gray-300 p-6 rounded-lg font-mono text-sm border border-gray-800 overflow-x-auto">
            <button onclick="copyCodeBlock(this)"
              class="absolute top-4 right-4 px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2">
              <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">
                </path>
              </svg>
              <span class="copy-text">Copy</span>
            </button>
            <pre><code class="language-javascript">// Production configuration
const productionConfig = {
    algorithm: 'sha512', // Strongest algorithm
    iterations: 150000, 
    saltLength: 16,     
    hashLength: 64      
};

// Use it
const result = await hash(password, process.env.HASH_PEPPER, productionConfig);</code></pre>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>